# Empty scope
on_game_start = {
	events = {
		fp1_scandinavian_adventurers.0004	# FP1 - Organise Norse adventurers.
		fp1_scandinavian_adventurers.0011	# FP1 - Corral famous Norse adventurers that haven't done much yet.
		fp1_scandinavian_adventurers.0021	# FP1 - Mark game-start prioritised adventurers.
		#Guaranteed historical artifacts fixed spawning
		debug_portraits.1 					# Debug portraits for animation testing
		# Warcraft
		# easteregg_event.0001				# Charna and Jakub duel.
		WCHEA.2000							# Sets up ancient characters' ages (So the arent 1 year old)
		# End of Warcraft
	}

	effect = {
		# Warcraft
		check_available_government_game_start_effect = yes
		# End of Warcraft
		
		#Epidemics 3 months grace
		set_global_variable = {
			name = start_epidemic_grace
			value = yes
			months = 3
		}

		### 867 - RADHANITES IN KHAZARIA ###
		# Warcraft
		# End of Warcraft
		### 867 - WRATH OF THE NORTHMEN ###
		#Æthelred dying (probably)
		# Warcraft
		# End of Warcraft

		#Alfred the Great becoming the Great
		# Warcraft
		# End of Warcraft

		### 867 - THE GREAT ADVENTURERS ###
		# Warcraft
		# End of Warcraft

		### HRE SETUP ###
		# Warcraft
		# End of Warcraft

		### RELIGIOUS THINGS ###
		# Warcraft
		every_religion_global = {
			limit = { like_islam_religion_trigger = yes }
			every_faith = {
				every_holy_site = {
					limit = {
						title_province = {
							has_special_building_slot = no
						}
					}
					title_province = {
						add_special_building_slot = holy_site_mosque_01
					}
				}
			}
		}
		# End of Warcraft
		# Warcraft
		every_religion_global = {
			limit = { like_christianity_religion_trigger = yes }
			every_faith = {
				every_holy_site = {
					limit = {
						title_province = {
							has_special_building_slot = no
						}
					}
					title_province = {
						add_special_building_slot = holy_site_cathedral_01
					}
				}
			}
		}
		# End of Warcraft
		every_religion_global = {
			limit = {
				OR = {
					like_hinduism_religion_trigger = yes
					like_buddhism_religion_trigger = yes
					like_jainism_religion_trigger = yes
					like_tani_religion_trigger = yes
					like_bon_religion_trigger = yes
				}
			}
			every_faith = {
				every_holy_site = {
					limit = {
						title_province = {
							has_special_building_slot = no
						}
					}
					title_province = {
						add_special_building_slot = holy_site_indian_grand_temple_01
					}
				}
			}
		}
		every_religion_global = {
			limit = {
				like_pagan_religion_trigger = yes
			}
			every_faith = {
				every_holy_site = {
					limit = {
						title_province = {
							has_special_building_slot = no
						}
					}
					title_province = {
						add_special_building_slot = holy_site_pagan_grand_temple_01
					}
				}
			}
		}
		every_religion_global = {
			every_faith = {
				every_holy_site = {
					limit = {
						title_province = {
							has_special_building_slot = no
						}
					}
					title_province = {
						add_special_building_slot = holy_site_other_grand_temple_01
					}
				}
			}
		}

		# Warcraft
		if = {
			limit = { game_start_date < 605.5.2 }
			title:d_theramore = { set_title_name = rocky_island_custom_name generate_coa = yes }
			title:c_theramore = { set_title_name = rocky_island_custom_name generate_coa = yes }
			title:b_theramore = { set_title_name = rocky_island_custom_name }
		}
		else = { title:d_theramore = { set_color_from_title = title:b_theramore } }
		
		
		### Thunder King Crisis
		if = { # Make sure Thunder King wont spawn on this gamerule
			limit = {
				has_game_rule = wc_thunder_king_crisis_never
			}
			set_global_variable = {
				name = no_thunder_king
				value = yes
			}
			debug_log = "Thunder King will never spawn this game"
		}
		else_if = { # Roll wether Thunder King will ever spawn at all
			limit = {
				has_game_rule = wc_thunder_king_crisis_default
			}
			random = { # Chance he will never spawn randomly
				chance = 40
				set_global_variable = {
					name = no_thunder_king
					value = yes
				}
				debug_log = "Thunder King will never spawn this game"
			}
		}
		
		### GRANDEUR ###
		#Royal Court: Set starting Grandeur to be the same as Expected
		if = {
			limit = {
				has_dlc_feature = royal_court
			}
			every_character_with_royal_court = {
				set_current_court_grandeur = court_grandeur_minimum_expected
				apply_hold_court_grace_effect = yes
				# Stops Hold Court reminders at game start
				set_variable = {
					name = last_hold_court_date
					value = current_year
				}
			}
		}
		# Warcraft - Removed struggle stuff

		### REGENCIES ###
		# Pre-defined historic regencies setup.
		## NOTE: we do these first to avoid feed messages getting weird due to regents being replaced immediately after getting their position.
		# character:40905 = { designate_diarch = character:40376 }
		# remove_generated_diarch_consequences_effect = {
		# 	NEW_DIARCH = character:40376
		# 	LIEGE = character:40905
		# }
		# HERE WARCRAFT REGENCIES like this
		
		if = {
			limit = { game_start_date = 583.1.1 }
			# Designate some regents.
			## King Llane of Stormwind & Anduin Lothar
			character:2 = { designate_diarch = character:1008 }
			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:1008
				LIEGE = character:2
			}
			character:2 = { set_diarch = character:1008 }
		}
		if = {
			limit = { game_start_date < 610.1.15 game_start_date > 586.1.1 }
			# Designate some regents.
			## King Varian of Stormwind & Bolvar Fordragon
			character:8 = { designate_diarch = character:60686 }
			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:60686
				LIEGE = character:8
			}
			character:8 = { set_diarch = character:60686 }
		}
		if = {
			limit = { game_start_date < 603.7.29 game_start_date > 583.1.1 }
			# Designate some regents.
			## King Anasterian of Quel'thalas & Lor'themar Theron
			character:42002 = { designate_diarch = character:42075 }
			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:42075
				LIEGE = character:42002
			}
			character:42002 = { set_diarch = character:42075 }
		}
		if = {
			limit = { game_start_date > 583.1.1 game_start_date < 603.7.29 }
			# Designate some regents.
			## King Kael'thas of Quel'thalas & Lor'themar Theron
			character:42003 = { designate_diarch = character:42075 }
			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:42075
				LIEGE = character:42003
			}
			character:42003 = { set_diarch = character:42075 }
		}
		if = { #added in on_game_start on action, because it gives error in error.log in 2nd-3d bookmark, idk
			limit = { game_start_date > 591.11.1 }
			character:10014 = {
				add_trait = in_ice_prison
			}
		}
		if = {
			limit = { game_start_date < 604.1.1 game_start_date > 591.11.1 }
			character:10014 = { designate_diarch = character:430000 }
			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:430000
				LIEGE = character:10014
			}
			character:10014 = { set_diarch = character:430000 }
		}
		if = {
			limit = { game_start_date = 605.6.6 }
			character:10014 = { designate_diarch = character:60003 }
			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:60003
				LIEGE = character:10014
			}
			character:10014 = { set_diarch = character:60003 }
		}
		
		# Set up anyone who should be in a regency at start whether we have sources or not.
		## If you start as a child, incapable, or imprisoned, you get a regency.
		every_ruler = {
			limit = {
				OR = {
					is_adult = no
					is_incapable = yes
					is_imprisoned = yes
					government_has_flag = government_is_clan
				}
			}
			# We don't want to check over so many characters *twice*, so we check again inside the block to determine what type of regency to put 'em in.
			## Temporary Regencies.
			if = {
				limit = { is_imprisoned = yes }
				trigger_event = {
					id = diarchy.0001
					delayed = yes
				}
			}
			if = {
				limit = { government_has_flag = government_is_clan }
			}
			## Entrenched Regencies.
			else = {
				trigger_event = {
					id = diarchy.0011
					delayed = yes
				}
			}
		}
		
		every_ruler = {
			limit = { NOT = { has_trait = race } }
			copy_race_effect = { CHARACTER = this }
			trigger_race_giving_no_gene_effect = yes
		}
		
		# Stormwind name game rule
		title:k_stormwind = {
			if = {
				limit = {
					has_game_rule = azeroth_name_of_stormwind
				}
				set_title_name = e_azeroth
			}
			else_if = {
				limit = {
					has_game_rule = azerothien_name_of_stormwind
				}
				set_title_name = k_azerothien
			}
		}
		culture:azerothian = {
			if = {
				limit = {
					has_game_rule = azeroth_name_of_stormwind
				}
				set_culture_name = {
					noun = azerothian_alt
					collective_noun = azerothian_alt_collective_noun
					prefix = azerothian_alt_prefix
				}
			}
			else_if = {
				limit = {
					has_game_rule = azerothien_name_of_stormwind
				}
				set_culture_name = {
					noun = azerothien
					collective_noun = azerothien_collective_noun
					prefix = azerothien_prefix
				}
			}
		}
		
		### GAME RULE: Alternate universe
		if = {
			limit = { has_game_rule = random_ruler_placement_on }
			game_rule_random_ruler_placement_effect = yes
			every_independent_ruler = {
				limit = { highest_held_title_tier = tier_empire is_landed = yes }
				every_vassal = {
					limit = { highest_held_title_tier = tier_kingdom NOT = { faith = prev.faith } vassal_contract_has_modifiable_obligations = yes }
					vassal_contract_set_obligation_level = {
						type = religious_rights
						level = 1
						
					}
				}
			}
		}

		# Warcraft
		every_county = {
			save_scope_as = county
			holder = {
				save_scope_as = councillor_liege
			}

			corrupt_county_effect = { ON_START = yes }
		}
	}
	# Warcraft - FP3 Struggle stuff removed
}

# Like on_game_start, except it is called once the host (or player, in single player) exits the lobby. Good for anything where you need to know who the players are, or what the game rules are
on_game_start_after_lobby = {
	effect = {
		# Unions, we have problems through history because of variables
		if = {
			limit = { has_game_rule = random_ruler_placement_off }
			union_members_on_game_start_effect = yes
		}
		else = {
			union_members_on_game_start_alternate_universe_effect = yes
		}
		# Warcraft
		every_living_character = {
			trigger_on_game_start_effect = yes
		}
		# Make sure that Realm Priests are landed theocrats where it makes sense
		every_ruler = {
			limit = {
				highest_held_title_tier >= tier_duchy
			}
			if = {
				limit = {
					exists = cp:councillor_court_chaplain
					cp:councillor_court_chaplain = {
						is_ruler = no
					}
					faith = { has_doctrine = doctrine_clerical_succession_spiritual_fixed_appointment }
					any_vassal = {
						is_physically_able_adult = yes
						is_councillor = no
						government_has_flag = government_is_theocracy
						can_be_court_chaplain_trigger = { COURT_OWNER = liege }
						faith = liege.faith
					}
				}
				random_vassal = {
					limit = {
						is_physically_able_adult = yes
						is_councillor = no
						government_has_flag = government_is_theocracy
						can_be_court_chaplain_trigger = { COURT_OWNER = liege }
						faith = liege.faith
					}
					weight = {
						base = 1
						modifier = {
							add = 1000
							faith.religious_head ?= this
						}
						modifier = {
							add = learning
						}
						modifier = {
							add = primary_title.tier
						}
					}
					liege = {
						assign_councillor_type = {
							type = councillor_court_chaplain
							remove_existing_councillor = yes
							target = prev
						}
					}
				}
			}
			if = {
				limit = {
					is_landless_adventurer = yes
				}
				if = { limit = { has_realm_law = crown_authority_0 } remove_realm_law = crown_authority_0 }
			}
		}

		### GAME RULE: VIEW ON SAME-SEX RELATIONS
		if = {
			limit = { has_game_rule = accepted_same_sex_relations }
			game_rule_accepted_same_sex_relations_effect = yes
		}

		### GAME RULE: RANDOM RULER PLACEMENT
		if = {
			limit = { NOT = { has_game_rule = random_ruler_placement_off } }
			game_rule_random_ruler_placement_effect = yes
		}

		### GAME RULE: RANDOMIZE FAITH
		if = {
			limit = { has_game_rule = randomized_faiths_on }
			game_rule_randomize_faith_effect = yes
		}

		### GAME RULE: FAITH ACCEPTANCE
		if = {
			limit = { has_game_rule = full_faith_acceptance }
			game_rule_faith_acceptance_effect = yes
		}

		### GAME RULE: GENDER EQUALITY ###
		if = {
			limit = { has_game_rule = full_gender_equality }
			game_rule_full_gender_equality_effect = yes
		}
		else_if = {
			limit = { has_game_rule = inversed_gender_equality }
			game_rule_inversed_gender_equality_effect = yes
		}

		### GAME RULE: SEXUALITY DISTRIBUTION ###
		if = {
			limit = { NOT = { has_game_rule = sexuality_distribution_default } }
			game_rule_sexuality_distribution_effect = yes
		}
		else = { # So that children 10+ starts with a sexuality
			child_sexuality_distribution_effect = yes
		}
		### GAME RULE: EXTRA ADMINS
		## We'll be doing some excessive triggers below in a bid to lightly future-proof + error-spam mods less, don't worry about it.
		### We handle players after the lobby.
		# Historic chars.
		apply_historic_administrative_game_rule_effect = yes
		# Players.
		if = {
			limit = { has_dlc_feature = roads_to_power }
			if = {
				limit = {
					NOT = { has_game_rule = historicity_extra_admin_player_wherever_gameplay_not_administrative }
				}
				if = {
					limit = { has_game_rule = historicity_extra_admin_player_wherever_alt_historic_always }
					every_player = {
						limit = {
							highest_held_title_tier >= tier_kingdom
							NOR = {
								government_has_flag = government_is_administrative
								government_has_flag = government_is_landless_adventurer
							}
						}
						convert_to_administrative_from_feudalism_game_start_effect = yes
					}
				}
				else_if = {
					limit = { has_game_rule = historicity_extra_admin_player_wherever_alt_historic_with_august_trait }
					every_player = {
						limit = {
							highest_held_title_tier >= tier_kingdom
							NOR = {
								government_has_flag = government_is_administrative
								government_has_flag = government_is_landless_adventurer
							}
							has_trait = august
						}
						convert_to_administrative_from_feudalism_game_start_effect = yes
					}
				}
			}
		}

		# Give Ruler Designer characters regencies.
		every_in_global_list = {
			variable = rd_chars_needing_regencies
			trigger_event = diarchy.0011
			# Aaaand clean the list.
			save_temporary_scope_as = char_temp
			remove_list_global_variable = {
				name = rd_chars_needing_regencies
				target = scope:char_temp
			}
		}

		if = {
			limit = { has_multiple_players = no }
			every_player = {
				# Base Title
				# if = {
				# 	limit = {
				# 		exists = character:7757
				# 		this = character:7757
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_give_a_dog_a_bone_achievement
				# 		VALUE = yes
				# 	}
				# }
				# if = {
				# 	limit = {
				# 		exists = character:1128
				# 		this = character:1128
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_wily_as_the_fox_achievement
				# 		VALUE = yes
				# 	}
				# }
				# if = {
				# 	limit = {
				# 		OR = {
				# 			AND = {
				# 				exists = character:108501
				# 				this = character:108501
				# 			}
				# 			AND = {
				# 				exists = character:107500
				# 				this = character:107500
				# 			}
				# 			AND = {
				# 				exists = character:107501
				# 				this = character:107501
				# 			}
				# 			AND = {
				# 				exists = character:108500
				# 				this = character:108500
				# 			}
				# 			AND = {
				# 				exists = character:109500
				# 				this = character:109500
				# 			}
				# 		}
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_sibling_rivalry_achievement
				# 		VALUE = yes
				# 	}
				# }
				# if = {
				# 	limit = {
				# 		OR = {
				# 			AND = {
				# 				exists = character:163108
				# 				this = character:163108
				# 			}
				# 			AND = {
				# 				exists = character:163110
				# 				this = character:163110
				# 			}
				# 			AND = {
				# 				exists = character:163111
				# 				this = character:163111
				# 			}
				# 			AND = {
				# 				exists = character:163112
				# 				this = character:163112
				# 			}
				# 			AND = {
				# 				exists = character:163119
				# 				this = character:163119
				# 			}
				# 		}
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_blood_eagle_achievement
				# 		VALUE = yes
				# 	}
				# }
				# if = {
				# 	limit = {
				# 		exists = character:6448
				# 		this = character:6448
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_kings_to_the_seventh_generation_achievement
				# 		VALUE = yes
				# 	}
				# }
				# if = {
				# 	limit = {
				# 		exists = character:140
				# 		this = character:140
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_norman_yoke_achievement
				# 		VALUE = yes
				# 	}
				# }
				# if = {
				# 	limit = {
				# 		exists = character:522
				# 		this = character:522
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_royal_dignity_achievement
				# 		VALUE = yes
				# 	}
				# }
				# if = {
				# 	limit = {
				# 		exists = character:40605
				# 		this = character:40605
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_land_of_the_rus_achievement
				# 		VALUE = yes
				# 	}
				# }
				# if = {
				# 	limit = {
				# 		exists = character:251187
				# 		this = character:251187
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_mother_of_us_all_achievement
				# 		VALUE = yes
				# 	}
				# }
				# if = {
				# 	limit = {
				# 		OR = {
				# 			culture = { has_cultural_pillar = heritage_iberian }
				# 			culture = culture:andalusian
				# 		}
				# 		has_religion = religion:christianity_religion
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_reconquista_achievement
				# 		VALUE = yes
				# 	}
				# }
				# if = {
				# 	limit = {
				# 		culture = culture:irish
				# 		capital_province = { geographical_region = custom_ireland }
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_the_emerald_isle_achievement
				# 		VALUE = yes
				# 	}
				# }
				# if = {
				# 	limit = {
				# 		OR = {
				# 			culture = culture:castilian
				# 			culture = culture:basque
				# 			culture = culture:portuguese
				# 			culture = culture:catalan
				# 			culture = culture:andalusian
				# 			culture = culture:visigothic
				# 			culture = culture:suebi
				# 		}
				# 		has_religion = religion:islam_religion
				# 		capital_province = { geographical_region = world_europe_west_iberia }
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_al_andalus_achievement
				# 		VALUE = yes
				# 	}
				# }
				# if = {
				# 	limit = {
				# 		exists = character:159137
				# 		this = character:159137
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_almost_there_achievement
				# 		VALUE = yes
				# 	}
				# }
				# if = {
				# 	limit = {
				# 		exists = character:109607
				# 		this = character:109607
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_last_count_first_king_achievement
				# 		VALUE = yes
				# 	}
				# }
				# if = {
				# 	limit = {
				# 		exists = character:6878
				# 		this = character:6878
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_going_places_achievement
				# 		VALUE = yes
				# 	}
				# }
				# FP1
				## far_from_home_achievement
				# if = {
				# 	limit = {
				# 		# Starting as a Norse pagan Norse-cultured character.
				# 		fp1_achievement_culture_plus_religion_norse_trigger = yes
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_far_from_home_achievement
				# 		VALUE = yes
				# 	}
				# }
				# ## miklagardariki_achievement
				# if = {
				# 	limit = {
				# 		# Starting as a Norse pagan Norse-cultured character.
				# 		fp1_achievement_culture_plus_religion_norse_trigger = yes
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_miklagardariki_achievement
				# 		VALUE = yes
				# 	}
				# }
				## canute_the_greater_achievement
				# add_achievement_global_variable_effect = {
				# 	VARIABLE = started_canute_the_greater_achievement
				# 	VALUE = yes
				# }
				## king_of_all_the_isles_achievement
				# if = {
				# 	limit = {
				# 		# Starting as a Norse pagan Norse-cultured character.
				# 		fp1_achievement_culture_plus_religion_norse_trigger = yes
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_king_of_all_the_isles_achievement
				# 		VALUE = yes
				# 	}
				# }
				## faster_than_the_fox_achievement
				# if = {
				# 	limit = {
				# 		# Starting as a Norse pagan Norse-cultured character.
				# 		fp1_achievement_culture_plus_religion_norse_trigger = yes
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_faster_than_the_fox_achievement
				# 		VALUE = yes
				# 	}
				# }
				## volva_achievement
				# if = {
				# 	limit = {
				# 		# Starting as a Norse pagan Norse-cultured character.
				# 		fp1_achievement_culture_plus_religion_norse_trigger = yes
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_volva_achievement
				# 		VALUE = yes
				# 	}
				# }
				## saga_in_stone_achievement
				add_achievement_global_variable_effect = {
					VARIABLE = started_saga_in_stone_achievement
					VALUE = yes
				}
				## first_of_the_crusader_kings_achievement
				# if = {
				# 	limit = {
				# 		# Starting as a Norse-cultured character.
				# 		fp1_achievement_culture_norse_trigger = yes
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_first_of_the_crusader_kings_achievement
				# 		VALUE = yes
				# 	}
				# }
				# ## vladimirs_second_choice_achievement
				# if = {
				# 	limit = {
				# 		# Starting as a Norse pagan Norse or Rus-cultured character.
				# 		fp1_achievement_culture_norse_or_rus_trigger = yes
				# 		fp1_achievement_religious_norse_trigger = yes
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_vladimirs_second_choice_achievement
				# 		VALUE = yes
				# 	}
				# }
				## a_dangerous_business_achievement
				# add_achievement_global_variable_effect = {
				# 	VARIABLE = started_a_dangerous_business_achievement
				# 	VALUE = yes
				# }
				# EP1
				##1 Patronage
				add_achievement_global_variable_effect = {
					VARIABLE = started_patronage_achievement
					VALUE = yes
				}
				##2 Converging Paths
				add_achievement_global_variable_effect = {
					VARIABLE = started_converging_paths_achievement
					VALUE = yes
				}
				##3 Changing course
				add_achievement_global_variable_effect = {
					VARIABLE = started_changing_course_achievement
					VALUE = yes
				}
				##4 Hoarder
				add_achievement_global_variable_effect = {
					VARIABLE = started_hoarder_achievement
					VALUE = yes
				}
				##5 creme de la creme
				add_achievement_global_variable_effect = {
					VARIABLE = started_creme_de_la_creme_achievement
					VALUE = yes
				}
				##6 Give it back!
				add_achievement_global_variable_effect = {
					VARIABLE = started_polyglot_achievement
					VALUE = yes
				}
				##7 Inspirational
				add_achievement_global_variable_effect = {
					VARIABLE = started_inspirational_achievement
					VALUE = yes
				}
				##8 One of a Kind
				add_achievement_global_variable_effect = {
					VARIABLE = started_one_of_a_kind_achievement
						VALUE = yes
				}
				##9 True Tolerance
				add_achievement_global_variable_effect = {
					VARIABLE = started_true_tolerance_achievement
					VALUE = yes
				}
				##10 Delusions of Grandeur
				add_achievement_global_variable_effect = {
					VARIABLE = started_delusions_of_grandeur_achievement_achievement
					VALUE = yes
				}
				##11 Bod Chen Po
				# if = {
				# 	limit = {
				# 		this.dynasty = dynasty:105800
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_bod_chen_po_achievement
				# 		VALUE = yes
				# 	}
				# }
				# ##12 Turkish Eagle
				# if = {
				# 	limit = {
				# 		NOT = { this = character:3040 } # Not Alp Arslan
				# 		house = house:house_seljuk # Seljuk
				# 		game_start_date < 1067.1.1 # 1066 only, and no Seljuks in 867
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_turkish_eagle_achievement
				# 		VALUE = yes
				# 	}
				# }
				##13 Rise of the Ghurids
				# if = {
				# 	limit = {
				# 		has_title = title:d_ghur
				# 		this.dynasty = dynasty:791 #Ghurid
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_rise_of_the_ghurids_achievement
				# 		VALUE = yes
				# 	}
				# }
				# ##14 Brave and Bold
				# if = {
				# 	limit = {
				# 		game_start_date < 868.1.1
				# 		this.dynasty = dynasty:699 #Piast
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_brave_and_bold_achievement
				# 		VALUE = yes
				# 	}
				# }
				##15 Lingua Franca
				add_achievement_global_variable_effect = {
					VARIABLE = started_lingua_franca_achievement
					VALUE = yes
				}
				##16 Beta Israel
				# add_achievement_global_variable_effect = {
				# 	VARIABLE = started_beta_israel_achievement
				# 	VALUE = yes
				# }
				## 17 They belong in a museum!
				add_achievement_global_variable_effect = {
					VARIABLE = started_they_belong_in_a_museum_achievement
					VALUE = yes
				}
				##18 I made this!
				add_achievement_global_variable_effect = {
					VARIABLE = started_i_made_this_achievement
					VALUE = yes
				}
				##19 Nobody Comes to Fika!
				# add_achievement_global_variable_effect = {
				# 	VARIABLE = started_nobody_comes_to_fika_achievement
				# 	VALUE = yes
				# }
				## 20 The True Royal Court
				add_achievement_global_variable_effect = {
					VARIABLE = started_the_true_royal_court_achievement
						VALUE = yes
				}
				# EP2
				## 01. The Grandest Tour
				add_achievement_global_variable_effect = {
					VARIABLE = started_the_grandest_tour_achievement
					VALUE = yes
				}
				## 02. Your Eternal Reward
				add_achievement_global_variable_effect = {
					VARIABLE = started_your_eternal_reward_achievement
					VALUE = yes
				}
				## 03. Imperial March
				add_achievement_global_variable_effect = {
					VARIABLE = started_imperial_march_achievement
					VALUE = yes
				}
				## 04. Black Dinner
				add_achievement_global_variable_effect = {
					VARIABLE = started_black_dinner_achievement
					VALUE = yes
				}
				## 05. There and Back Again
				add_achievement_global_variable_effect = {
					VARIABLE = started_there_and_back_again_achievement
					VALUE = yes
				}
				## 06. The Very Best
				add_achievement_global_variable_effect = {
					VARIABLE = started_the_very_best_achievement
					VALUE = yes
				}
				## 07. Like No One Ever Was
				add_achievement_global_variable_effect = {
					VARIABLE = started_like_no_one_ever_was_achievement
					VALUE = yes
				}
				## 08. A Thousand and One Night
				add_achievement_global_variable_effect = {
					VARIABLE = started_a_thousand_and_one_nights_achievement
					VALUE = yes
				}
				## 09. A Knight's Tale
				add_achievement_global_variable_effect = {
					VARIABLE = started_a_knights_tale_achievement
					VALUE = yes
				}
				## 10. Hunting Accident
				add_achievement_global_variable_effect = {
					VARIABLE = started_hunting_accident_achievement
					VALUE = yes
				}
				## 11. Lions and Tigers and Bears, Oh My!
				add_achievement_global_variable_effect = {
					VARIABLE = started_lions_and_tigers_and_bears_oh_my_achievement
					VALUE = yes
				}
				## 12. Fly, my Pretty!
				add_achievement_global_variable_effect = {
					VARIABLE = started_fly_my_pretty_achievement
					VALUE = yes
				}
				## 13. Pathway to Heaven
				add_achievement_global_variable_effect = {
					VARIABLE = started_pathway_to_heaven_achievement
					VALUE = yes
				}
				## 14. Sir Lance-a-Lot
				add_achievement_global_variable_effect = {
					VARIABLE = started_sir_lance_a_lot_achievement
					VALUE = yes
				}
				## 15. I'm in my Element(s)
				add_achievement_global_variable_effect = {
					VARIABLE = started_im_in_my_elements_achievement
					VALUE = yes
				}
				## 16. Ahab
				add_achievement_global_variable_effect = {
					VARIABLE = started_ahab_achievement
					VALUE = yes
				}
				## 17. Little William Marshal
				add_achievement_global_variable_effect = {
					VARIABLE = started_little_william_marshal_achievement
					VALUE = 0
				}
				add_achievement_global_variable_effect = {
					VARIABLE = little_william_marshal_achievement_tally
					VALUE = 0
				}
				## 18. A True & Perfect Knight
				add_achievement_global_variable_effect = {
					VARIABLE = started_a_true_and_perfect_knight_achievement
					VALUE = yes
				}
				## 19. A.E.I.O.U & Me
				# if = {
				# 	limit = {
				# 		# Etichonen, of whom the Hapsburgs are a cadet - we check dynasty rather than house so that an accidental cadet doesn't screw you.
				# 		this.house ?= house:house_habsburg
				# 	}
				# 	add_achievement_global_variable_effect = {
				# 		VARIABLE = started_a_e_i_o_u_and_me_achievement
				# 		VALUE = yes
				# 	}
				# }
				## 20. The Iron and Golden King
				add_achievement_global_variable_effect = {
					VARIABLE = started_the_iron_and_golden_king_achievement
					VALUE = yes
				}

				### RULER DESIGNER ACHIEVEMENT BLOCKS ###
				if = {
					limit = {
						num_virtuous_traits >= 3
					}
					add_achievement_flag_effect = { FLAG = rd_character_blocked_paragon_of_virtue_achievement_flag	}
				}
				if = {
					limit = {
						any_child = {
							count >= 10
							is_alive = yes
						}
					}
					add_achievement_flag_effect = { FLAG = rd_character_blocked_the_succession_is_safe_achievement_flag }
				}
				if = {
					limit = {
						any_child = {
							has_trait = inbred
						}
					}
					add_achievement_flag_effect = { FLAG = rd_character_blocked_keeping_it_in_the_family_achievement_flag }
				}
				if = {
					limit = {
						highest_held_title_tier >= tier_empire
						should_be_naked_trigger = yes
					}
					add_achievement_flag_effect = { FLAG = rd_character_blocked_the_emperors_new_clothes_achievement_flag }
				}
				# if = {
				# 	limit = {
				# 		is_from_ruler_designer = yes
				# 		OR = {
				# 			fp1_achievement_culture_norse_trigger = yes
				# 			fp1_achievement_religious_norse_trigger = yes
				# 		}
				# 	}
				# 	#add_to_global_unavailable_achievements_list_effect = { FLAG = flag:rd_character_blocked_far_from_home_achievement }
				# 	#add_to_global_unavailable_achievements_list_effect = { FLAG = flag:rd_character_blocked_miklagardariki_achievement }
				# 	#add_to_global_unavailable_achievements_list_effect = { FLAG = flag:rd_character_blocked_faster_than_the_fox_achievement }
				# }
				if = {
					limit = {
						any_ruler = {
							is_from_ruler_designer = yes
						}
					}
					#add_to_global_unavailable_achievements_list_effect = { FLAG = flag:rd_character_blocked_iberia_or_iberia_achievement }
					#add_to_global_unavailable_achievements_list_effect = { FLAG = flag:rd_character_blocked_el_cid_achievement }
					add_achievement_global_variable_effect = {
						VARIABLE = any_ruler_designed_character_achievement
						VALUE = yes
					}
				}
			}
		}

		# ### ACHIEVEMENT (FP3): The Ummayad Strikes Back
		# every_player = {
		# 	if = {
		# 		limit = {
		# 			dynasty = character:73683.dynasty
		# 			location = { geographical_region = world_europe_west_iberia }
		# 		}
		# 		set_global_variable = fp3_the_umma_strikes_back_achievement_tracker # Is not removed (sad!)
		# 	}
		# }
		
		### ACHIEVEMENT: FROM RAGS TO RICHES TO RAGS TO RICHES 
		every_player = {
			limit = { highest_held_title_tier = tier_county }
			add_achievement_global_variable_effect = {
				VARIABLE = achievement_rags_to_riches_to_rags_to_riches_valid
				VALUE = yes
			}
		}

		### ACHIEVEMENT: FROM RAGS TO RICHES
		every_player = {
			limit = { highest_held_title_tier = tier_county }
			add_achievement_global_variable_effect = {
				VARIABLE = achievement_rags_to_riches_valid
				VALUE = yes
			}
		}
	
		title:k_goblin_bankers.holder = {
			create_story = {
				type = story_cycle_goblin_loan
			}
		}


		#Set starting cultural acceptance
		# Warcraft

		### CE1 LEGITIMACY SETUP ###
		every_ruler = {
			limit = {
				has_legitimacy = yes
			}
			add_legitimacy = base_legitimacy_value
		}
		### EP3 SETUP ###
		if = {
			limit = { has_ep3_dlc_trigger = yes }
			### EP3 LAAMP SETUP ###
			# Resources.
			every_independent_ruler = {
				limit = { is_landless_adventurer = yes }
				# Cash.
				add_gold = {
					value = {
						value = 0
						add = prestige
						add = piety
						divide = 10
					}
				}
				save_temporary_scope_as = adventurer_scope
				# Set CoA
				primary_title = { set_coa = scope:adventurer_scope.house }
				# Cleanup characters
				every_councillor = {
					if = {
						limit = {
							NOR = {
								has_council_position = councillor_court_chaplain
								has_council_position = councillor_spouse
							}
						}
						scope:adventurer_scope = {
							fire_councillor = prev
						}
						remove_opinion = {
							modifier = fired_from_council_opinion
							target = scope:adventurer_scope
						}
					}
					else_if = {
						limit = {
							NOR = {
								is_close_or_extended_family_of = prev
								has_relation_lover = prev
								has_relation_friend = prev
								is_consort_of = prev
								has_council_position = councillor_spouse
							}
						}
						death = {
							death_reason = death_vanished
						}
					}
				}
				# Evict everyone who isn't your family from your camp.
				every_courtier = {
					limit = {
						prev = { save_temporary_scope_as = char_temp }
						NOR = {
							dynasty ?= scope:char_temp.dynasty
							is_imprisoned_by = scope:char_temp
							# Plus any relations, who are presumably meant to be here.
							has_important_relationship_with_character_trigger = { CHARACTER = scope:char_temp }
							# Catch bastards and such that may be left over.
							is_close_or_extended_family_of = scope:char_temp
						}
					}
					move_to_pool = yes
				}
				# Courtiers.
				trigger_event = ep3_laamps.1001
			}
			# Starting camp purposes.
			## Danath Trollbane
			character:38004 ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_mercenaries
					if = {
						limit = {
							character:herrick = {
								NOT = { is_courtier_of = character:38004 }
							}
						}
						add_courtier = character:herrick
					}
				}
			}
			## Menag Bloodhill
			character:menag ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_brigands
					if = {
						limit = {
							character:benedict_bloodhill = {
								NOT = { is_courtier_of = character:menag }
							}
						}
						add_courtier = character:benedict_bloodhill
					}
				}
			}
			## Zerx Hydromon
			character:zerx_hydromon ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_scholars
				}
			}
			## Ryon Quarvel
			character:ryon_quarvel ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_brigands
				}
			}
			## Don Carlos
			character:don_carlos ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_explorers
				}
			}
			## Sergeant Bly
			character:sergeant_bly ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_mercenaries
					if = {
						limit = {
							character:raven = {
								NOT = { is_courtier_of = character:sergeant_bly }
							}
						}
						add_courtier = character:raven
					}
					if = {
						limit = {
							character:murta_grimgut = {
								NOT = { is_courtier_of = character:sergeant_bly }
							}
						}
						add_courtier = character:murta_grimgut
					}
					if = {
						limit = {
							character:weegli_blastfuse = {
								NOT = { is_courtier_of = character:sergeant_bly }
							}
						}
						add_courtier = character:weegli_blastfuse
					}
					if = {
						limit = {
							character:oro_eyegouge = {
								NOT = { is_courtier_of = character:sergeant_bly }
							}
						}
						add_courtier = character:oro_eyegouge
					}
				}
			}
			## Captain Ripflesh
			character:captain_ripflesh ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_mercenaries
				}
			}
			## Boss Tho'grun
			character:boss_thogrun ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_mercenaries
				}
			}
			## Anthion Harmon
			character:anthion_harmon ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_mercenaries
					if = {
						limit = {
							character:ysida_harmon = {
								NOT = { is_courtier_of = character:anthion_harmon }
							}
						}
						add_courtier = character:ysida_harmon
					}
					if = {
						limit = {
							character:mokvar = {
								NOT = { is_courtier_of = character:anthion_harmon }
							}
						}
						add_courtier = character:mokvar
					}
					if = {
						limit = {
							character:bodley = {
								NOT = { is_courtier_of = character:anthion_harmon }
							}
						}
						add_courtier = character:bodley
					}
					if = {
						limit = {
							character:theldren = {
								NOT = { is_courtier_of = character:anthion_harmon }
							}
						}
						add_courtier = character:theldren
					}
					if = {
						limit = {
							character:deliana = {
								NOT = { is_courtier_of = character:anthion_harmon }
							}
						}
						add_courtier = character:deliana
					}
					if = {
						limit = {
							character:mor_grayhoof = {
								NOT = { is_courtier_of = character:anthion_harmon }
							}
						}
						add_courtier = character:mor_grayhoof
					}
					if = {
						limit = {
							character:isalien = {
								NOT = { is_courtier_of = character:anthion_harmon }
							}
						}
						add_courtier = character:isalien
					}
					if = {
						limit = {
							character:jarien = {
								NOT = { is_courtier_of = character:anthion_harmon }
							}
						}
						add_courtier = character:jarien
					}
					if = {
						limit = {
							character:sothos = {
								NOT = { is_courtier_of = character:anthion_harmon }
							}
						}
						add_courtier = character:sothos
					}
				}
			}
			## Jurrix Whitemane
			character:jurrix_whitemane ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_mercenaries
				}
			}
			## Malus
			character:silverlaine_thorne ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_mercenaries
					if = {
						limit = {
							character:zathra = {
								NOT = { is_courtier_of = character:silverlaine_thorne }
							}
						}
						add_courtier = character:zathra
					}
					if = {
						limit = {
							character:reigol_valdread = {
								NOT = { is_courtier_of = character:silverlaine_thorne }
							}
						}
						add_courtier = character:reigol_valdread
					}
				}
			}
			## Brann Bronzebeard
			character:17028 ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_explorers
					if = {
						limit = {
							character:samul_strangehands = {
								NOT = { is_courtier_of = character:17028 }
							}
						}
						add_courtier = character:samul_strangehands
					}
				}
			}
			## Tae'thelan Bloodwatcher
			character:taethelan_bloodwatcher ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_explorers
					if = {
						limit = {
							character:arlethal_sunwatcher = {
								NOT = { is_courtier_of = character:taethelan_bloodwatcher }
							}
						}
						add_courtier = character:arlethal_sunwatcher
					}
				}
			}
			## Collector Kojo
			character:collector_kojo ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_scholars
					if = {
						limit = {
							character:scrollsage_nola = {
								NOT = { is_courtier_of = character:collector_kojo }
							}
						}
						add_courtier = character:scrollsage_nola
					}
					if = {
						limit = {
							character:kajosh_tortollan = {
								NOT = { is_courtier_of = character:collector_kojo }
							}
						}
						add_courtier = character:kajosh_tortollan
					}
					if = {
						limit = {
							character:tiang_tortollan = {
								NOT = { is_courtier_of = character:collector_kojo }
							}
						}
						add_courtier = character:tiang_tortollan
					}
				}
			}
			## Lorewalker Cho
			character:lorewalker_cho ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_scholars
				}
			}
			## Thalo'thas Brightsun
			character:thalothas_brightsun ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_mercenaries
					if = {
						limit = {
							character:gilthares_firebough = {
								NOT = { is_courtier_of = character:thalothas_brightsun }
							}
						}
						add_courtier = character:gilthares_firebough
					}
				}
			}
			## Captain Broketooth
			#character:captain_broketooth ?= {
			#	if = {
			#		limit = {
			#			is_alive = yes
			#			is_landless_adventurer = yes
			#		}
			#		add_realm_law_skip_effects = camp_purpose_brigands
			#	}
			#}
			## Aretain Naris
			character:aretain_naris ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_brigands
					if = {
						limit = {
							character:soff_naris = {
								NOT = { is_courtier_of = character:aretain_naris }
							}
						}
						add_courtier = character:soff_naris
					}
				}
			}
			## Harkyn Grymstone
			character:harkyn_grymstone ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_mercenaries
					if = {
						limit = {
							character:groth = {
								NOT = { is_courtier_of = character:harkyn_grymstone }
							}
						}
						add_courtier = character:groth
					}
					if = {
						limit = {
							character:voll = {
								NOT = { is_courtier_of = character:harkyn_grymstone }
							}
						}
						add_courtier = character:voll
					}
					if = {
						limit = {
							character:snee = {
								NOT = { is_courtier_of = character:harkyn_grymstone }
							}
						}
						add_courtier = character:snee
					}
				}
			}
			## Seer Ixit
			character:seer_ixit ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_legitimists
				}
			}
			## John J Keeshan
			character:john_keeshan ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_mercenaries
					if = {
						limit = {
							character:colonel_troteman = {
								NOT = { is_courtier_of = character:john_keeshan }
							}
						}
						add_courtier = character:colonel_troteman
					}
					if = {
						limit = {
							character:messner = {
								NOT = { is_courtier_of = character:john_keeshan }
							}
						}
						add_courtier = character:messner
					}
					if = {
						limit = {
							character:jorgensen = {
								NOT = { is_courtier_of = character:john_keeshan }
							}
						}
						add_courtier = character:jorgensen
					}
					if = {
						limit = {
							character:krakauer = {
								NOT = { is_courtier_of = character:john_keeshan }
							}
						}
						add_courtier = character:krakauer
					}
					if = {
						limit = {
							character:danforth = {
								NOT = { is_courtier_of = character:john_keeshan }
							}
						}
						add_courtier = character:danforth
					}
				}
			}
			## Zabra Hexx
			character:zabra_hexx ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_scholars
				}
			}
			## Mathog Slave Master
			character:slave_master ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_brigands
				}
			}
			## Haomarush
			character:haomarush ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_mercenaries
				}
			}
			## Throk'Feroth
			character:throk_feroth ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_brigands
				}
			}
			## Mazrigos
			character:mazrigos ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_brigands
				}
			}
			## Genjuros
			character:genjuros ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_mercenaries
				}
			}
			## Flynn Fairwind
			character:flynn_fairwind ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_mercenaries
				}
			}
			## Millhouse Manastorm
			character:millhouse_manastorm ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_scholars
				}
			}
			## Captain Raoul
			character:captain_raoul ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_brigands
					if = {
						limit = {
							character:elsbeth_wavecutter = {
								NOT = { is_courtier_of = character:captain_raoul }
							}
						}
						add_courtier = character:elsbeth_wavecutter
					}
					if = {
						limit = {
							character:skullcrusher_cotner = {
								NOT = { is_courtier_of = character:captain_raoul }
							}
						}
						add_courtier = character:skullcrusher_cotner
					}
				}
			}
			## Captain Eudora
			character:captain_eudora ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_brigands
					if = {
						limit = {
							character:quartermaster_ssylis = {
								NOT = { is_courtier_of = character:captain_eudora }
							}
						}
						add_courtier = character:quartermaster_ssylis
					}
				}
			}
			## Captain Jolly
			character:captain_jolly ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_brigands
					if = {
						limit = {
							character:burnsy_the_blade = {
								NOT = { is_courtier_of = character:captain_jolly }
							}
						}
						add_courtier = character:burnsy_the_blade
					}
				}
			}
			## Captain Rhenik
			character:captain_rhenik ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_brigands
					if = {
						limit = {
							character:owings = {
								NOT = { is_courtier_of = character:captain_rhenik }
							}
						}
						add_courtier = character:owings
					}
					if = {
						limit = {
							character:first_mate_malone = {
								NOT = { is_courtier_of = character:captain_rhenik }
							}
						}
						add_courtier = character:first_mate_malone
					}
					if = {
						limit = {
							character:boatswain_taryn = {
								NOT = { is_courtier_of = character:captain_rhenik }
							}
						}
						add_courtier = character:boatswain_taryn
					}
					if = {
						limit = {
							character:boatswain_mace = {
								NOT = { is_courtier_of = character:captain_rhenik }
							}
						}
						add_courtier = character:boatswain_mace
					}
					if = {
						limit = {
							character:navigator_swink = {
								NOT = { is_courtier_of = character:captain_rhenik }
							}
						}
						add_courtier = character:navigator_swink
					}
					if = {
						limit = {
							character:quartermaster_killian = {
								NOT = { is_courtier_of = character:captain_rhenik }
							}
						}
						add_courtier = character:quartermaster_killian
					}
				}
			}
			## Skezzo
			character:skezzo ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_brigands
					if = {
						limit = {
							character:lumpo = {
								NOT = { is_courtier_of = character:skezzo }
							}
						}
						add_courtier = character:lumpo
					}
				}
			}
			## Rhan'ka
			character:rhanka ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_brigands
					if = {
						limit = {
							character:grenja = {
								NOT = { is_courtier_of = character:rhanka }
							}
						}
						add_courtier = character:grenja
					}
					if = {
						limit = {
							character:manzul = {
								NOT = { is_courtier_of = character:rhanka }
							}
						}
						add_courtier = character:manzul
					}
					if = {
						limit = {
							character:volni = {
								NOT = { is_courtier_of = character:rhanka }
							}
						}
						add_courtier = character:volni
					}
					if = {
						limit = {
							character:zulsan = {
								NOT = { is_courtier_of = character:rhanka }
							}
						}
						add_courtier = character:zulsan
					}
				}
			}
			## Ana Bloodteeth
			character:ana_bloodteeth ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_brigands
				}
			}
			## Razak Ironsides
			character:razak_ironsides ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_mercenaries
					if = {
						limit = {
							character:dizzy_dina = {
								NOT = { is_courtier_of = character:razak_ironsides }
							}
						}
						add_courtier = character:dizzy_dina
					}
					if = {
						limit = {
							character:tally_zapnabber = {
								NOT = { is_courtier_of = character:razak_ironsides }
							}
						}
						add_courtier = character:tally_zapnabber
					}
					if = {
						limit = {
							character:rico_bugsnapper = {
								NOT = { is_courtier_of = character:razak_ironsides }
							}
						}
						add_courtier = character:rico_bugsnapper
					}
				}
			}
			## Sigismund Blackthorn
			character:60675 ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_brigands
				}
			}
			## Harrison Jones
			character:harrison_jones ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_explorers
				}
			}
			## Markus Wilder - patreon
			character:310280 ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_mercenaries
				}
			}
			## Nicholas - patreon
			character:patron310686 ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_mercenaries
				}
			}
			## Akasta - patreon
			character:patron310689 ?= {
				if = {
					limit = {
						is_alive = yes
						is_landless_adventurer = yes
					}
					add_realm_law_skip_effects = camp_purpose_explorers
				}
			}

			every_independent_ruler = {
				limit = { is_landless_adventurer = yes }
				# C... food.
				domicile = { change_provisions = starting_provisions_value }
				# Contracts
				if = {
					limit = { is_ai = no }
					# Set up additional firing contracts.
					player_adventurer_contract_generation_on_wait_in_place_effect = yes
					#generate contracts if you are far away from your previous location
					player_adventurer_contract_generation_on_domicile_moved_effect = yes
				}
				else = {
					create_story = { type = story_adventurer_ai }
					trigger_event = {
						on_action = on_adventurer_ai_new_employer_arrival
						days = { 10 30 }
					}
				}
				# Sort our starting flavourisation.
				if = {
					limit = { has_realm_law = camp_purpose_mercenaries }
					set_variable = flavourise_camp_purpose_mercenaries
				}
				else_if = {
					limit = { has_realm_law = camp_purpose_wanderers }
					set_variable = flavourise_camp_purpose_wanderers
				}
				else_if = {
					limit = { has_realm_law = camp_purpose_scholars }
					set_variable = flavourise_camp_purpose_scholars
				}
				else_if = {
					limit = { has_realm_law = camp_purpose_explorers }
					set_variable = flavourise_camp_purpose_explorers
				}
				else_if = {
					limit = { has_realm_law = camp_purpose_brigands }
					set_variable = flavourise_camp_purpose_brigands
				}
				else_if = {
					limit = { has_realm_law = camp_purpose_legitimists }
					set_variable = flavourise_camp_purpose_legitimists
				}
				# And tally our numbers for performance purposes.
				add_to_global_variable_list = {
					name = laamps_tally
					target = this.primary_title
				}
			}
			### EP3 ADMIN SETUP ###
			every_independent_ruler = {
				limit = { government_allows = administrative }
				save_scope_as = top_liege
				### EP3 NOBLE FAMILIES & DOMICILE SETUP ###
				random_held_title = { # May be removed once every_noble_family includes liege (TIT-51212)
					limit = { is_noble_family_title = yes }
					set_coa = scope:top_liege.house
				}
				every_noble_family = {
					# Ensure Noble Family CoA match House
					set_coa = holder.house
					# Ensure holders of historical noble family titles are the default house heads
					holder ?= {
						save_scope_as = nf_holder
						if = {
							limit = { is_landed = yes }
							capital_province = { save_scope_as = domicile_location }
						}
						# TODO_CD_EP3: remove once TIT-51212 is resolved and confirmed
						house ?= {
							if = {
								limit = { house_head != scope:nf_holder }
								set_house_head = scope:nf_holder
							}
						}
					}
					set_color_from_title = scope:nf_holder.capital_county
				}
			}
			# Byzantium naming [Warcraft - removed]
			# Saharan stuff. [Warcraft - removed]
			# 1066 Buildings [Warcraft - removed]
			# 1178 Buildings [Warcraft - removed]
			every_domicile = {
				# if = { # Left in if we want adventurers to spawn with stuff
				# 	limit = {
				# 		is_domicile_type = camp
				# 	}
				# 	add_domicile_building = camp_main_02
				# 	add_domicile_building = camp_main_03
				# 	random_list = {
				# 		10 = {
				# 			add_domicile_building = supply_tent_01
				# 			add_domicile_building = supply_tent_02
				# 			random_list = {
				# 				10 = {
				# 					add_domicile_building = supply_tent_sutler
				# 				}
				# 				10 = {
				# 					add_domicile_building = supply_tent_mender
				# 				}
				# 				10 = {
				# 					add_domicile_building = supply_tent_smithy
				# 				}
				# 				10 = {
				# 					add_domicile_building = supply_tent_arsenal
				# 				}
				# 			}
				# 		}
				# 		10 = {
				# 			add_domicile_building = barber_tent_01
				# 			add_domicile_building = barber_tent_02
				# 			random_list = {
				# 				10 = {
				# 					add_domicile_building = barber_tent_surgeons_tools
				# 				}
				# 				10 = {
				# 					add_domicile_building = barber_tent_dentists_tools
				# 				}
				# 				10 = {
				# 					add_domicile_building = barber_tent_torturers_tools
				# 				}
				# 			}
				# 		}
				# 		10 = {
				# 			add_domicile_building = baggage_train_01
				# 			add_domicile_building = baggage_train_02
				# 			random_list = {
				# 				10 = {
				# 					add_domicile_building = baggage_train_ample_steeds
				# 				}
				# 				10 = {
				# 					add_domicile_building = baggage_train_porters
				# 				}
				# 				10 = {
				# 					add_domicile_building = baggage_train_trackers
				# 				}
				# 				10 = {
				# 					add_domicile_building = baggage_train_kennel
				# 				}
				# 			}
				# 		}
				# 	}
				# 	random_list = {
				# 		10 = {
				# 			add_domicile_building = mess_tent_01
				# 			add_domicile_building = mess_tent_02
				# 			random_list = {
				# 				10 = {
				# 					add_domicile_building = mess_tent_herbalists
				# 				}
				# 				10 = {
				# 					add_domicile_building = mess_tent_brewers
				# 				}
				# 				10 = {
				# 					add_domicile_building = mess_tent_curers
				# 				}
				# 				10 = {
				# 					add_domicile_building = mess_tent_bakers
				# 				}
				# 				10 = {
				# 					add_domicile_building = mess_tent_cooks
				# 				}
				# 			}
				# 		}
				# 		10 = {
				# 			add_domicile_building = camp_fire_01
				# 			add_domicile_building = camp_fire_02
				# 			random_list = {
				# 				10 = {
				# 					add_domicile_building = camp_fire_trailing_musicians
				# 				}
				# 				10 = {
				# 					add_domicile_building = camp_fire_wandering_poets
				# 				}
				# 				10 = {
				# 					add_domicile_building = camp_fire_capering_fools
				# 				}
				# 				10 = {
				# 					add_domicile_building = camp_fire_libations_for_the_lost
				# 				}
				# 			}
				# 		}
				# 	}
				# 	random_list = {
				# 		10 = {
				# 			add_domicile_building = camp_perimeter_01
				# 			add_domicile_building = camp_perimeter_02
				# 			random_list = {
				# 				10 = {
				# 					add_domicile_building = camp_perimeter_good_siting
				# 				}
				# 				10 = {
				# 					add_domicile_building = camp_perimeter_fixed_layout
				# 				}
				# 			}
				# 		}
				# 		10 = {
				# 			add_domicile_building = proving_grounds_01
				# 			add_domicile_building = proving_grounds_02
				# 		}
				# 	}
				# }
				if = {
					limit = {
						is_domicile_type = estate
					}
					if = {
						limit = {
							NOT = { has_domicile_building_or_higher = estate_main_02 }
							owner.culture ?= { has_innovation = innovation_city_planning }
						}
						add_domicile_building = estate_main_02
						add_random_internal_estate_building = yes
					}
					if = {
						limit = {
							has_domicile_building = estate_main_02
							NOT = { has_domicile_building_or_higher = estate_main_03 }
							owner.culture ?= { has_innovation = innovation_manorialism }
						}
						add_domicile_building = estate_main_03
						while = {
							count = 2
							add_random_internal_estate_building = yes
						}
					}
					
					fill_external_estate_building_effect = yes
					# Warcraft - Todo: make an effect to add estate buildings here if needed
				}
			}
		}
		# Purge family titles if Admin isn't enabled
		if = {
			limit = {
				NOT = { has_dlc_feature = roads_to_power }
			}
			every_ruler = {
				save_temporary_scope_as = this_ruler
				every_held_title = {
					limit = {
						has_title_law = noble_family_succession_law
					}
					scope:this_ruler = {
						destroy_title = prev
					}
				}
			}
		}
		# Conquerors
		#todo warcraft adapt
		#example
		# character:144133 ?= {
		# 	if = {
		# 		limit = {
		# 			is_alive = yes
		# 			NOT = { has_game_rule = no_conquerors_frequency }
		# 		}
		# 		create_story = story_conqueror
		# 	}
		# }
		
	}
	events = {
		game_rule.1000	#Autopopulate families.
		# Warcraft
		# game_rule.1011	#Hungarian Migration management.
		# End of Warcraft
		historical_artifacts.0023			# Historical Artifacts Generator

		# Warcraft
		wc_horde_invasion.0001 #Starts the Horde Invasion
	}
}