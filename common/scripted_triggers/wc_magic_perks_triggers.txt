hurricane_cost_trigger = {
    has_variable = hurricane_target
    has_variable = spell_recipient
    var:spell_recipient = { is_barony_trigger = yes }
    var:spell_recipient = var:hurricane_target
    var:current_spell_name ?= flag:$SPELL$
}

hurricane_cast_time_trigger = {
    trigger_if = {
        limit = {
            NOT = {
                exists = var:$SPELL$_recipient
            }
        }
        has_variable = hurricane_target
        has_variable = spell_recipient
        var:spell_recipient = { is_barony_trigger = yes }
        var:spell_recipient = var:hurricane_target
        var:current_spell_name ?= flag:$SPELL$
    }
    trigger_else = {
        has_variable = hurricane_target
        var:$SPELL$_recipient = { is_barony_trigger = yes }
        var:$SPELL$_recipient = var:hurricane_target
    }
}

best_served_cold_scheme_cooldown_trigger = {
    has_perk = elemental_water_magic_tree_2_perk_4
    trigger_if = {
        limit = {
            NOT = {
                exists = var:$SPELL$_recipient
            }
        }
        var:current_spell_name ?= flag:$SPELL$
        trigger_if = {
            limit = {
                var:spell_recipient ?= {
                    is_character_trigger = yes
                }
            }
            is_target_in_variable_list = {
                name = best_served_cold_targets
                target = var:spell_recipient
            }
        }
        trigger_else_if = {
            limit = {
                has_variable = original_recipient
            }
            is_target_in_variable_list = {
                name = best_served_cold_targets
                target = var:original_recipient
            }
        }
        trigger_else = {
            always = no
        }
    }
    trigger_else = {
        trigger_if = {
            limit = {
                var:$SPELL$_recipient ?= {
                    is_character_trigger = yes
                }
            }
            is_target_in_variable_list = {
                name = best_served_cold_targets
                target = var:$SPELL$_recipient
            }
        }
        trigger_else_if = {
            limit = {
                has_variable = $SPELL$_original_recipient
            }
            is_target_in_variable_list = {
                name = best_served_cold_targets
                target = var:$SPELL$_original_recipient
            }
        }
        trigger_else = {
            always = no
        }
    }
}

best_served_cold_rival_cooldown_trigger = {
    has_perk = elemental_water_magic_tree_2_perk_4
    trigger_if = {
        limit = {
            NOT = {
                exists = var:$SPELL$_recipient
            }
        }
        var:current_spell_name ?= flag:$SPELL$
        trigger_if = {
            limit = {
                var:spell_recipient ?= {
                    is_character_trigger = yes
                }
            }
            has_relation_rival = var:spell_recipient
        }
        trigger_else_if = {
            limit = {
                has_variable = original_recipient
            }
            has_relation_rival = var:original_recipient
        }
        trigger_else = {
            always = no
        }
    }
    trigger_else = {
        trigger_if = {
            limit = {
                var:$SPELL$_recipient ?= {
                    is_character_trigger = yes
                }
            }
            has_relation_rival = var:$SPELL$_recipient
        }
        trigger_else_if = {
            limit = {
                has_variable = $SPELL$_original_recipient
            }
            has_relation_rival = var:$SPELL$_original_recipient
        }
        trigger_else = {
            always = no
        }
    }
}