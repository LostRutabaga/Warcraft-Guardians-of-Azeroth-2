elemental_water_magic_tree_1_perk_1 = {
	lifestyle = elemental_water_magic_lifestyle
	tree = elemental_water_magic_tree_1
	position = { 1.75 0 }
	icon = node_diplomacy

	can_be_auto_selected = {
		magic_lifestyle_is_valid_trigger = { MAGIC = elemental_water }
	}

	auto_selection_weight = {
		value = wc_elemental_water_magic_auto_selection_value

		if = { # Any focus
			limit = { has_focus_elemental_water_magic_trigger = yes }
			multiply = wc_lifestyle_perk_auto_selection_weight_multiply_from_focus_value
		}
		if = {
			limit = {
				NOT = { can_spend_perks_in_elemental_MAGIC_magic_lifestyle_tree_TREE_trigger = { MAGIC = elemental_water TREE = 1 } }
			}
			multiply = 0
		}
	}

	effect = {
		custom_tooltip = wc_learn_spell_summon_water_elemental
		wc_learn_spell_effect = {
			SPELL = summon_water_elemental
		}
		learn_spell_rank_effect = {
			SPELL = summon_water_elemental
			RANK = 2
		}
		learn_spell_rank_effect = {
			SPELL = summon_water_elemental
			RANK = 3
		}
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_water }
	}
}
elemental_water_magic_tree_1_perk_2 = {
	lifestyle = elemental_water_magic_lifestyle
	tree = elemental_water_magic_tree_1
	position = { 2 1 }
	icon = node_diplomacy

	parent = elemental_water_magic_tree_1_perk_1

	effect = {
		custom_tooltip = wc_hurricane_effect
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_water }
	}
}
elemental_water_magic_tree_1_perk_3 = {
	lifestyle = elemental_water_magic_lifestyle
	tree = elemental_water_magic_tree_1
	position = { 1 2 }
	icon = node_diplomacy

	parent = elemental_water_magic_tree_1_perk_2

	effect = {
		custom_tooltip = {
			text = wc_aquatic_bounty_effect
			trigger_event = magic_perk.0010
		}
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_water }
	}
}
elemental_water_magic_tree_1_perk_4 = {
	lifestyle = elemental_water_magic_lifestyle
	tree = elemental_water_magic_tree_1
	position = { 3.25 1.5 }
	icon = node_diplomacy

	parent = elemental_water_magic_tree_1_perk_1

	effect = {
		custom_tooltip = wc_learn_spell_soothing_waters
		wc_learn_spell_effect = {
			SPELL = soothing_waters
		}
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_water }
	}
}
elemental_water_magic_tree_1_perk_5 = {
	lifestyle = elemental_water_magic_lifestyle
	tree = elemental_water_magic_tree_1
	position = { 0.25 3 }
	icon = node_diplomacy

	parent = elemental_water_magic_tree_1_perk_3

	effect = {
		custom_tooltip = wc_learn_spell_river_spirits_rage
		wc_learn_spell_effect = {
			SPELL = river_spirits_rage
		}
		learn_spell_rank_effect = {
			SPELL = river_spirits_rage
			RANK = 2
		}
		learn_spell_rank_effect = {
			SPELL = river_spirits_rage
			RANK = 3
		}
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_water }
	}
}
elemental_water_magic_tree_1_perk_6 = {
	lifestyle = elemental_water_magic_lifestyle
	tree = elemental_water_magic_tree_1
	position = { 4 3 }
	icon = node_diplomacy

	parent = elemental_water_magic_tree_1_perk_4

	effect = {
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_water }
	}
}
elemental_water_magic_tree_1_perk_7 = {
	lifestyle = elemental_water_magic_lifestyle
	tree = elemental_water_magic_tree_1
	position = { 0.5 4 }
	icon = node_diplomacy

	parent = elemental_water_magic_tree_1_perk_5

	character_modifier = {
		naval_movement_speed_mult = 0.15
	}

	effect = {
		custom_tooltip = wc_sirens_call_effect
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_water }
	}
}
elemental_water_magic_tree_1_perk_8 = {
	lifestyle = elemental_water_magic_lifestyle
	tree = elemental_water_magic_tree_1
	position = { 3.5 4 }
	icon = node_diplomacy

	parent = elemental_water_magic_tree_1_perk_6

	effect = {
		custom_tooltip = wc_learn_spell_invoke_tsunami
		wc_learn_spell_effect = {
			SPELL = invoke_tsunami
		}
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_water }
	}
}
elemental_water_magic_tree_1_perk_9 = {
	lifestyle = elemental_water_magic_lifestyle
	tree = elemental_water_magic_tree_1
	position = { 2 5 }
	icon = node_diplomacy

	parent = elemental_water_magic_tree_1_perk_7
	parent = elemental_water_magic_tree_1_perk_8

	effect = {
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_water }
	}
}

elemental_water_magic_tree_2_perk_1 = {
	lifestyle = elemental_water_magic_lifestyle
	tree = elemental_water_magic_tree_2
	position = { 0.5 0 }
	icon = node_diplomacy

	can_be_auto_selected = {
		magic_lifestyle_is_valid_trigger = { MAGIC = elemental_water }
	}

	auto_selection_weight = {
		value = wc_elemental_water_magic_auto_selection_value

		if = { # Any focus
			limit = { has_focus_elemental_water_magic_trigger = yes }
			multiply = wc_lifestyle_perk_auto_selection_weight_multiply_from_focus_value
		}
		if = {
			limit = {
				NOT = { can_spend_perks_in_elemental_MAGIC_magic_lifestyle_tree_TREE_trigger = { MAGIC = elemental_water TREE = 2 } }
			}
			multiply = 0
		}
	}

	effect = {
		custom_tooltip = wc_learn_spell_frost_shock
		wc_learn_spell_effect = {
			SPELL = frost_shock
		}
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_water }
	}
}
elemental_water_magic_tree_2_perk_2 = {
	lifestyle = elemental_water_magic_lifestyle
	tree = elemental_water_magic_tree_2
	position = { 3.5 0 }
	icon = node_diplomacy

	can_be_auto_selected = {
		magic_lifestyle_is_valid_trigger = { MAGIC = elemental_water }
	}

	auto_selection_weight = {
		value = wc_elemental_water_magic_auto_selection_value

		if = { # Any focus
			limit = { has_focus_elemental_water_magic_trigger = yes }
			multiply = wc_lifestyle_perk_auto_selection_weight_multiply_from_focus_value
		}
		if = {
			limit = {
				NOT = { can_spend_perks_in_elemental_MAGIC_magic_lifestyle_tree_TREE_trigger = { MAGIC = elemental_water TREE = 2 } }
			}
			multiply = 0
		}
	}

	effect = {
		custom_tooltip = wc_spirit_of_entropy_spirit_effect
		custom_tooltip = wc_spirit_of_entropy_decay_effect
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_water }
	}
}
elemental_water_magic_tree_2_perk_3 = {
	lifestyle = elemental_water_magic_lifestyle
	tree = elemental_water_magic_tree_2
	position = { 1.25 1.25 }
	icon = node_diplomacy

	parent = elemental_water_magic_tree_2_perk_1

	character_modifier = {
		supply_capacity_mult = 0.5
		fort_level = 1
	}

	effect = {
		custom_tooltip = wc_blessed_ice_effect
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_water }
	}
}
elemental_water_magic_tree_2_perk_4 = {
	lifestyle = elemental_water_magic_lifestyle
	tree = elemental_water_magic_tree_2
	position = { 2.75 1.25 }
	icon = node_diplomacy

	parent = elemental_water_magic_tree_2_perk_2

	effect = {
		custom_tooltip = wc_best_served_cold_effect
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_water }
	}
}
elemental_water_magic_tree_2_perk_5 = {
	lifestyle = elemental_water_magic_lifestyle
	tree = elemental_water_magic_tree_2
	position = { 0 2.5 }
	icon = node_diplomacy

	parent = elemental_water_magic_tree_2_perk_3

	effect = {
		custom_tooltip = wc_learn_spell_icefury
		wc_learn_spell_effect = {
			SPELL = icefury
		}
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_water }
	}
}
elemental_water_magic_tree_2_perk_6 = {
	lifestyle = elemental_water_magic_lifestyle
	tree = elemental_water_magic_tree_2
	position = { 4 2.5 }
	icon = node_diplomacy

	parent = elemental_water_magic_tree_2_perk_4

	effect = {
		custom_tooltip = wc_cold_storage_effect
		add_character_modifier = wc_cold_storage_modifier
		trigger_event = {
			on_action = cold_storage_pulse
		}
 		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_water }
	}
}
elemental_water_magic_tree_2_perk_7 = {
	lifestyle = elemental_water_magic_lifestyle
	tree = elemental_water_magic_tree_2
	position = { 0 3.75 }
	icon = node_diplomacy

	parent = elemental_water_magic_tree_2_perk_5

	effect = {
		custom_tooltip = wc_hibernation_effect
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_water }
	}
}
elemental_water_magic_tree_2_perk_8 = {
	lifestyle = elemental_water_magic_lifestyle
	tree = elemental_water_magic_tree_2
	position = { 4 3.75 }
	icon = node_diplomacy

	parent = elemental_water_magic_tree_2_perk_6

	effect = {
		custom_tooltip = wc_learn_spell_ice_structure
		wc_learn_spell_effect = {
			SPELL = ice_structure
		}
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_water }
	}
}
elemental_water_magic_tree_2_perk_9 = {
	lifestyle = elemental_water_magic_lifestyle
	tree = elemental_water_magic_tree_2
	position = { 2 5 }
	icon = node_diplomacy

	parent = elemental_water_magic_tree_2_perk_3
	parent = elemental_water_magic_tree_2_perk_4
	parent = elemental_water_magic_tree_2_perk_7
	parent = elemental_water_magic_tree_2_perk_8

	effect = {
		custom_tooltip = wc_learn_spell_eternal_winter
		hidden_effect = {
			add_character_modifier = wc_cold_storage_modifier
		}
		wc_learn_spell_effect = {
			SPELL = eternal_winter
		}
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_water }
	}
}