namespace = isolation

### The cloaking device in Uldum stops working ###

#Ping event
isolation.1 = {
	type = character_event
	window = fullscreen_event
	title = EVTTITLE_isolation_1
	desc = EVTDESC_isolation_1
	theme = diplomacy
	content_source = dlc_GOA
	
	override_background = { reference = wc_uldum_fullscreen }
	
	right_portrait = { 
		character = root
		animation = idle
	}
	
	# Time to claim that superweapon I keep hearing rumors about
	option = {
		trigger = {
			is_aggressive_trigger = yes
		}
		name = ISOLATION_1_OPT_A
	}
	# Outsiders inbound
	option = {
		trigger = {
			NOT = {
				is_aggressive_trigger = yes
			}
			capital_county = { title_province = { geographical_region = world_kalimdor_south_uldum } }
		}
		name = ISOLATION_1_OPT_B
	}
	# Time to go exploring
	option = {
		trigger = {
			NOR = {
				is_aggressive_trigger = yes
				capital_county = { title_province = { geographical_region = world_kalimdor_south_uldum } }
			}
		}
		name = ISOLATION_1_OPT_C
	}
}

### MISTS OF PANDARIA ###
# Announces the parting of the Mists to the world
isolation.2 = {
	type = character_event
	window = fullscreen_event
	title = EVTTITLE_isolation_2
	content_source = dlc_GOA
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					capital_county = { title_province = { geographical_region = world_pandaria } }
				}
				desc = EVTDESC_isolation_2_pandaria
			}
			desc = EVTDESC_isolation_2_azeroth
		}
	}
	theme = diplomacy
	
	override_background = { reference = wc_jade_forest_fullscreen }
	
	right_portrait = { 
		character = root
		animation = idle
	}

	# New lands to explore and conquer!
	option = {
		trigger = {
			is_aggressive_trigger = yes
		}
		name = ISOLATION_2_OPT_A
	}
	# Welcome, wanderers!
	option = {
		trigger = {
			NOT = {
				is_aggressive_trigger = yes
			}
			capital_county = { title_province = { geographical_region = world_pandaria } }
		}
		name = ISOLATION_2_OPT_B
	}
	# Send expeditions
	option = {
		trigger = {
			NOR = {
				is_aggressive_trigger = yes
				capital_county = { title_province = { geographical_region = world_pandaria } }
			}
		}
		name = ISOLATION_2_OPT_C
	}
}

### SURAMAR ###
isolation.3 = {
	type = character_event
	window = fullscreen_event
	title = EVTTITLE_isolation_3
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					is_in_suramar_trigger = yes 
				}
				desc = EVTDESC_isolation_3_suramar
			}
			desc = EVTDESC_isolation_3_azeroth
		}
	}
	theme = diplomacy
	content_source = dlc_GOA
	
	override_background = { reference = wc_suramar_fullscreen }

	immediate = {
		set_global_variable = suramar_barrier_lowered_variable
	}
	
	# Okay
	option = {
		name = ISOLATION_3_OPT_A
		trigger = {
			NOT = { is_in_suramar_trigger = yes }
		}
	}
	# We chiling
	option = {
		name = ISOLATION_3_OPT_B
		trigger = {
			is_in_suramar_trigger = yes
		}
	}
	# Say hello to our elven brothers / new neighbors
	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc = {
						trigger = {
							OR = {
								culture = { has_elven_heritage_trigger = yes }
								has_trait = creature_nightborne
								has_trait = creature_high_elf
								has_trait = creature_night_elf
								has_trait = creature_highborne
							}
						}
						desc = ISOLATION_3_OPT_C_ELVEN
					}
					desc = ISOLATION_3_OPT_C_NEIGHBOR
				}
			}
		}
		trigger = {
			NOT = { is_in_suramar_trigger = yes }
			OR = {
				capital_province = { geographical_region = world_broken_isles }
				OR = {
					culture = { has_elven_heritage_trigger = yes }
					has_trait = creature_nightborne
					has_trait = creature_high_elf
					has_trait = creature_night_elf
					has_trait = creature_highborne
				}
			}
		}
	}
}